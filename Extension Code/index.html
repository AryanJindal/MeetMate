<!DOCTYPE html> <!--This is a html file-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MeetMate</title>
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
    <link rel="stylesheet" href="style.css" type="text/css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.6.1/font/bootstrap-icons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Kurenaido&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
    <script>
    function goPDF () {
      html2pdf()
      .from(document.getElementById("topdf"))
      .save();
    } <!-- this is the function for pdf generation-->
    </script>
</head>
<body>
    <section id="main">
        <section id="sec-0">  <!-- this sec includes user login status and profile--  would probably inlcude in next update :)>

        </section>
        
        <section id="sec-1">   <!-- this section includes buttons -->
            
            <button type="button" class="btn btn-success" id="rec" title="Record">Record <i class="bi bi-camera-reels"></i> </button>
            
            <button class="button is-warning" id="pau" title="Pause">Pause <i class="bi bi-pause-circle"></i> </button>
            
            <button class="button is-success" id="res" title="Resume">Resume <i class="bi bi-play-circle"></i> </button>

            <!-- <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
                <label class="form-check-label" for="flexSwitchCheckDefault">ASS</label>
              </div> -->
            
            <button type="button" class="btn btn-danger" id="stop" title="Stop recording" disabled>Stop Recording <i class="bi bi-stop-circle"></i> </button>
        </section>
        
        <section id="sec-2">
            <div id="status-cont">
                <!-- <aside id="tips">
                     <h3>Tips</h3>
                    <ul id="tipslist">
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                    </ul>
                </aside> -->
                <main>
                    <h3>Current Status</h3>
                    <img src="https://cdn.slidemodel.com/wp-content/uploads/4208-01-flat-bold-business-plan-template-16x9-4.jpg" alt="attentive-graph"> <!-- Here this image will be replaced by a live attention depicting graph -->
                </main>
            </div>
        </section>

        <section id="sec-3">
            <div id="alerts-cont">
                <i class="bi bi-person-circle" id="host" title="Meet Host"></i>    <!-- Your Meeting Host -->                  
                <button type="button" class="btn btn-info" title="Download the report" onclick="goPDF()">Download <i class="fas fa-arrow-alt-circle-down"></i> </button>
                <button type="button" class="btn btn-warning" title="Warning">Warning <i class="fas fa-exclamation-circle"></i> </button>
                <button type="button" class="btn btn-light" id="speech_nt_clk" title="Captions-off">Speech-to-text <i class="far fa-closed-captioning"></i> </button>
                <button type="button" class="btn btn-dark" id="speech_clk" title="Captions-on">Speech-to-text <i class="fas fa-closed-captioning"></i> </button>

            </div>
            <div class="words" id = "topdf" contenteditable="true" >
                <textarea class="textarea" readonly placeholder="*Click 'Speech-to-text' to toggle captions*" id = "b" contenteditable="false" >
                </textarea>
            </div>
            <script>
                var speech = true; <!-- This is a speech to text script -->
                window.SpeechRecognition = window.SpeechRecognition
                                || window.webkitSpeechRecognition;
          
                const recognition = new SpeechRecognition();
                recognition.interimResults = true;
                const words = document.querySelector('.words');
                words.appendChild(b);
          
                recognition.addEventListener('result', e => {
                    const transcript = Array.from(e.results)
                        .map(result => result[0])
                        .map(result => result.transcript)
                        .join('')

                        document.getElementById("b").innerHTML = transcript;
                        console.log(transcript);
                });
                  
                if (speech == true) {
                    recognition.continuous = true
                    recognition.start();
                    recognition.addEventListener('end',recognition.continuous = true, recognition.start);
                }
            </script>
                
               
        </section>

    </section>
    

    
    
    <script async src="script.js"></script>
    

</body>
</html>
